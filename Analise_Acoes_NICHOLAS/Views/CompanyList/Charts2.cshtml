
@{
    ViewData["Title"] = "Charts";
}

<h2>Index</h2>

<!DOCTYPE HTML>
<html>
<head>
    <script>
        window.onload = function () {

            var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                zoomEnabled: true,
                title: {
                    text: "@ViewBag.symbol"
                },
                axisY: {
                    includeZero: false
                },
                data: [
                    {
                        type: "line",
                        dataPoints: @Html.Raw(ViewBag.DataPoints)}] 
            });
            chart.render();

        }

    </script>
   
    <script type="text/javascript" src="~/js/canvasjs-2.0-beta1/canvasjs.min.js"></script>
</head>
<body>
    <div id="form">
        <p>
            <form>
                <input type="hidden" name="Symbol" value="@ViewBag.symbol" />
                Inicio: <input type="date" name="start" defaultValue="2017-08-01">
                Fim: <input type="date" name="end" defaultValue="2017-10-06">
                <input type="submit" asp-action="Charts" asp-route-Symbol="@ViewBag.symbol" @*asp-route-months="2" *@ />
            </form>
        </p>
    </div>
    <div id="chartContainer" style="height: 370px; width: 100%;">
    </div>
</body>
</html>